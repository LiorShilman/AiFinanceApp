// financial-advisor.component.scss - 注爪 砖驻专 专砖

.financial-advisor-container {
  background: #0a0a0a;
  color: #e0e0e0;
  font-family: 'Arial Hebrew', 'Segoe UI', Tahoma, sans-serif;
  line-height: 1.6;
  padding: 20px;
  min-height: 100vh;
  
  h1, h2, h3, h4, h5, h6 {
    color: #e0e0e0;
    margin-bottom: 1rem;
    font-weight: 600;
  }

  h1 { font-size: clamp(1.5rem, 3vw, 2.5rem); }
  h2 { font-size: clamp(1.25rem, 2.5vw, 2rem); }
  h3 { font-size: clamp(1.1rem, 2vw, 1.5rem); }

  p {
    color: #a0aec0;
    margin-bottom: 1rem;
    line-height: 1.7;
  }
}

// 爪转 砖驻专转
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes glow {
  0%, 100% { box-shadow: 0 0 5px rgba(78, 205, 196, 0.3); }
  50% { box-shadow: 0 0 20px rgba(78, 205, 196, 0.6); }
}

// 住住 专住 砖驻专
.card-base {
  background: #1a1a2e;
  border: 1px solid #2d3748;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  animation: fadeIn 0.6s ease-out;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
    border-color: #4ecdc4;
  }
}

// Advanced Analysis - 注爪 专砖
.advanced-analysis {
  .advanced-container {
    max-width: 1400px;
    margin: 0 auto;
  }

  .analysis-header {
    @extend .card-base;
    background: linear-gradient(135deg, #4ecdc4, #96ceb4);
    text-align: center;
    margin-bottom: 32px;

    h1 {
      color: white;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      margin-bottom: 24px;
    }

    .metadata-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 20px;

      .metadata-item {
        background: rgba(255, 255, 255, 0.1);
        padding: 12px 16px;
        border-radius: 12px;
        backdrop-filter: blur(10px);

        .label {
          display: block;
          font-size: 0.85rem;
          color: rgba(255, 255, 255, 0.8);
          margin-bottom: 4px;
        }

        .value {
          display: block;
          font-weight: 600;
          color: white;
          font-size: 1.1rem;

          &.urgency {
            padding: 4px 12px;
            border-radius: 20px;
            
            &.urgency- { background: #96ceb4; }
            &.urgency-转 { background: #ffeaa7; }
            &.urgency- { background: #ff6b6b; }
          }
        }
      }
    }
  }

  .executive-summary {
    @extend .card-base;
    background: linear-gradient(45deg, rgba(78, 205, 196, 0.15), rgba(255, 107, 107, 0.15));
    border: 2px solid #4ECDC4;

    h2 {
      color: #4ecdc4;
      text-align: center;
      margin-bottom: 24px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;

      .summary-item {
        background: rgba(26, 26, 46, 0.8);
        padding: 20px;
        border-radius: 12px;
        border: 1px solid #2d3748;
        transition: all 0.3s ease;

        &:hover {
          transform: scale(1.02);
          border-color: #4ecdc4;
        }

        &.highlight {
          background: linear-gradient(135deg, #ff6b6b, #ffeaa7);
          border-color: #ff6b6b;

          h3, p { color: white; }
        }

        h3 {
          color: #4ecdc4;
          margin-bottom: 12px;
          font-size: 1.1rem;
        }

        p {
          color: #e0e0e0;
          margin: 0;
          font-weight: 500;
        }
      }
    }
  }

  .calculations-section {
    @extend .card-base;

    h2 {
      color: #96ceb4;
      text-align: center;
      margin-bottom: 24px;
    }

    .calculations-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 24px;

      .calculation-card {
        background: #16213e;
        border: 1px solid #2d3748;
        border-radius: 12px;
        padding: 24px;
        transition: all 0.3s ease;

        &:hover {
          border-color: #96ceb4;
          animation: glow 2s infinite;
        }

        h3 {
          color: #96ceb4;
          margin-bottom: 16px;
          text-align: center;
        }

        .formula-container {
          background: rgba(0, 0, 0, 0.4);
          padding: 16px;
          border-radius: 8px;
          margin: 16px 0;
          text-align: center;
          border: 1px solid #2d3748;

          .formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.2rem;
            color: #e0e0e0;

            .fraction {
              display: inline-block;
              text-align: center;
              vertical-align: middle;

              .numerator,
              .denominator {
                display: block;
                padding: 0 4px;
              }

              .numerator {
                border-bottom: 1px solid rgba(45, 55, 72, 0.5);

                .var-name {
                  color: #a0aec0;
                  font-weight: 500;
                }

                .var-value {
                  color: #e0e0e0;
                  font-weight: 600;
                }
              }
            }
          }

          .result {
            background: linear-gradient(135deg, #4ecdc4, #96ceb4);
            padding: 12px 16px;
            border-radius: 8px;
            text-align: center;
            margin: 16px 0;

            .result-label {
              color: white;
              font-weight: 500;
              margin-left: 8px;
            }

            .result-value {
              color: white;
              font-weight: 700;
              font-size: 1.3rem;
            }
          }

          .description {
            color: #a0aec0;
            font-style: italic;
            margin: 0;
            text-align: center;
          }
        }
      }

      // Charts Section
      .charts-section {
        h2 {
          color: #87ceeb;
          text-align: center;
          margin-bottom: 24px;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
          gap: 24px;

          .chart-container {
            background: #16213e;
            border: 1px solid #2d3748;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;

            &:hover {
              border-color: #87ceeb;
              transform: translateY(-4px);
              box-shadow: 0 8px 25px rgba(135, 206, 235, 0.2);
            }

            h3 {
              color: #87ceeb;
              text-align: center;
              margin-bottom: 16px;
            }

            canvas {
              max-width: 100%;
              height: auto !important;
            }

            .chart-insights {
              margin-top: 16px;
              padding-top: 16px;
              border-top: 1px solid #2d3748;

              h4 {
                color: #87ceeb;
                margin-bottom: 8px;
                font-size: 1rem;
              }

              ul {
                margin: 0;
                padding-right: 20px;

                li {
                  color: #a0aec0;
                  margin-bottom: 4px;
                  font-size: 0.9rem;
                }
              }
            }
          }
        }
      }

      // Tables Section
      .tables-section {
        h2 {
          color: #dda0dd;
          text-align: center;
          margin-bottom: 24px;
        }

        .tables-container {
          .table-wrapper {
            margin-bottom: 32px;

            &:last-child {
              margin-bottom: 0;
            }

            h3 {
              color: #dda0dd;
              margin-bottom: 16px;
              text-align: center;
            }

            .data-table {
              width: 100%;
              border-collapse: collapse;
              background: #16213e;
              border-radius: 12px;
              overflow: hidden;
              box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);

              thead {
                background: linear-gradient(135deg, #4ecdc4, #96ceb4);

                th {
                  padding: 16px 12px;
                  text-align: right;
                  font-weight: 600;
                  color: white;
                  border-bottom: 2px solid #2d3748;
                }
              }

              tbody {
                tr {
                  transition: all 0.3s ease;

                  &:hover {
                    background: rgba(221, 160, 221, 0.1);
                  }

                  &.highlight {
                    background: linear-gradient(135deg, #ff6b6b, #ffeaa7);

                    td {
                      color: white;
                      font-weight: 600;
                    }
                  }

                  &.summary-row {
                    background: linear-gradient(45deg, rgba(78, 205, 196, 0.15), rgba(255, 107, 107, 0.15));
                    border-top: 2px solid #DDA0DD;

                    td {
                      color: #e0e0e0;
                      font-weight: 700;
                    }
                  }

                  td {
                    padding: 12px;
                    border-bottom: 1px solid #2d3748;
                    color: #a0aec0;
                    text-align: right;

                    &:first-child {
                      color: #e0e0e0;
                      font-weight: 500;
                    }
                  }
                }
              }
            }
          }
        }
      }

      // Recommendations Section
      .recommendations-section {
        h2 {
          color: #ffeaa7;
          text-align: center;
          margin-bottom: 24px;
        }

        .recommendations-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
          gap: 24px;

          .recommendation-card {
            background: #16213e;
            border: 1px solid #2d3748;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;

            &.immediate {
              border-color: #ff6b6b;
              background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));

              h3 { color: #ff6b6b; }

              &:hover {
                border-color: #ff6b6b;
                box-shadow: 0 8px 25px rgba(255, 107, 107, 0.2);
              }
            }

            &.short-term {
              border-color: #ffeaa7;
              background: linear-gradient(135deg, rgba(255, 234, 167, 0.1), rgba(255, 234, 167, 0.05));

              h3 { color: #ffeaa7; }

              &:hover {
                border-color: #ffeaa7;
                box-shadow: 0 8px 25px rgba(255, 234, 167, 0.2);
              }
            }

            &.medium-term {
              border-color: #96ceb4;
              background: linear-gradient(135deg, rgba(150, 206, 180, 0.1), rgba(150, 206, 180, 0.05));

              h3 { color: #96ceb4; }

              &:hover {
                border-color: #96ceb4;
                box-shadow: 0 8px 25px rgba(150, 206, 180, 0.2);
              }
            }

            &:hover {
              transform: translateY(-4px);
            }

            h3 {
              margin-bottom: 16px;
              text-align: center;
            }

            ul {
              list-style: none;
              padding: 0;
              margin: 0;

              li {
                background: rgba(26, 26, 46, 0.5);
                margin-bottom: 12px;
                padding: 16px;
                border-radius: 8px;
                border-left: 4px solid currentColor;

                &:last-child {
                  margin-bottom: 0;
                }

                strong {
                  color: #e0e0e0;
                  display: block;
                  margin-bottom: 8px;
                  font-size: 1.1rem;
                }

                p {
                  margin: 0;
                  color: #a0aec0;
                  line-height: 1.6;
                }

                .deadline {
                  display: inline-block;
                  background: rgba(255, 107, 107, 0.2);
                  color: #ff6b6b;
                  padding: 4px 8px;
                  border-radius: 6px;
                  font-size: 0.85rem;
                  margin-top: 8px;
                }
              }
            }
          }
        }
      }

      // Thinking Question
      .thinking-question {
        @extend .card-base;
        background: linear-gradient(45deg, rgba(78, 205, 196, 0.15), rgba(255, 107, 107, 0.15));
        border: 2px solid #4ECDC4;
        text-align: center;

        h2 {
          color: #4ecdc4;
          margin-bottom: 20px;
        }

        .question-card {
          background: rgba(26, 26, 46, 0.8);
          padding: 24px;
          border-radius: 12px;
          border: 1px solid #2d3748;

          .question {
            color: #e0e0e0;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 16px;
            line-height: 1.7;
          }

          .context {
            color: #a0aec0;
            font-style: italic;
            margin: 0;
          }
        }
      }
    }
  }
}

// Basic Financial Response
.basic-financial {
  .basic-container {
    max-width: 800px;
    margin: 0 auto;
  }

  .basic-header {
    @extend .card-base;
    background: linear-gradient(135deg, #4ecdc4, #96ceb4);
    text-align: center;
    color: white;

    h1 {
      color: white;
      margin-bottom: 16px;
    }

    .question {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.2rem;
      font-weight: 500;
      margin: 0;
    }
  }

  .answer-section {
    .answer-card {
      @extend .card-base;
      animation: slideIn 0.6s ease-out;

      &.example {
        background: linear-gradient(135deg, rgba(150, 206, 180, 0.1), rgba(150, 206, 180, 0.05));
        border-color: #96ceb4;

        h2 { color: #96ceb4; }
      }

      &.israeli {
        background: linear-gradient(135deg, rgba(135, 206, 235, 0.1), rgba(135, 206, 235, 0.05));
        border-color: #87ceeb;

        h2 { color: #87ceeb; }
      }

      &.tip {
        background: linear-gradient(135deg, rgba(255, 234, 167, 0.1), rgba(255, 234, 167, 0.05));
        border-color: #ffeaa7;

        h2 { color: #ffeaa7; }

        p {
          font-weight: 600;
          color: #e0e0e0;
        }
      }

      h2 {
        color: #4ecdc4;
        margin-bottom: 16px;
      }

      p {
        color: #a0aec0;
        line-height: 1.7;
        margin: 0;
      }

      .example-item {
        margin-bottom: 16px;
        padding: 12px;
        background: rgba(26, 26, 46, 0.5);
        border-radius: 8px;

        &:last-child {
          margin-bottom: 0;
        }

        h4 {
          color: #96ceb4;
          margin-bottom: 8px;
        }

        .calculation {
          font-family: 'Monaco', 'Consolas', monospace;
          background: rgba(0, 0, 0, 0.3);
          padding: 8px;
          border-radius: 4px;
          margin: 8px 0;
          color: #ffcc80;
        }
      }
    }
  }

  .related-topics {
    @extend .card-base;

    h3 {
      color: #dda0dd;
      margin-bottom: 16px;
      text-align: center;
    }

    .topics-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;

      .topic-tag {
        background: linear-gradient(135deg, #4ecdc4, #96ceb4);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.3s ease;

        &:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
        }
      }
    }
  }

  .follow-up-questions {
    @extend .card-base;

    h3 {
      color: #ff6b6b;
      text-align: center;
      margin-bottom: 20px;
    }

    ul {
      list-style: none;
      padding: 0;

      li {
        background: rgba(255, 107, 107, 0.1);
        padding: 12px 16px;
        margin-bottom: 12px;
        border-radius: 8px;
        border-right: 4px solid #FF6B6B;
        color: #a0aec0;
        transition: all 0.3s ease;

        &:hover {
          background: rgba(255, 107, 107, 0.2);
          transform: translateX(4px);
        }

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }
}

// Need More Data Response
.need-more-data {
  .need-data-container {
    max-width: 900px;
    margin: 0 auto;
  }

  .need-data-header {
    @extend .card-base;
    background: linear-gradient(135deg, #ff6b6b, #ffeaa7);
    text-align: center;
    color: white;

    h1 {
      color: white;
      margin-bottom: 16px;
    }

    p {
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
      font-size: 1.1rem;
    }
  }

  .required-info-section {
    @extend .card-base;

    h2 {
      color: #ffeaa7;
      text-align: center;
      margin-bottom: 24px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;

      .info-card {
        background: #16213e;
        border: 1px solid #2d3748;
        border-radius: 12px;
        padding: 20px;
        transition: all 0.3s ease;

        &:hover {
          border-color: #ffeaa7;
          transform: translateY(-4px);
          box-shadow: 0 8px 25px rgba(255, 234, 167, 0.2);
        }

        h3 {
          color: #ffeaa7;
          margin-bottom: 12px;
        }

        .why-needed {
          color: #a0aec0;
          margin-bottom: 12px;
          font-style: italic;
        }

        .input-type {
          background: rgba(255, 234, 167, 0.2);
          color: #ffeaa7;
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 0.85rem;
          font-weight: 500;
        }
      }
    }
  }

  .quick-tips-section {
    @extend .card-base;

    h2 {
      color: #96ceb4;
      text-align: center;
      margin-bottom: 20px;
    }

    .tips-list {
      list-style: none;
      padding: 0;

      li {
        background: rgba(150, 206, 180, 0.1);
        padding: 16px;
        margin-bottom: 12px;
        border-radius: 8px;
        border-right: 4px solid #96CEB4;
        color: #a0aec0;
        position: relative;

        &:before {
          content: "";
          position: absolute;
          right: -10px;
          top: 50%;
          transform: translateY(-50%);
          font-size: 1.2rem;
        }

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }

  .examples-section {
    @extend .card-base;

    h2 {
      color: #4ecdc4;
      text-align: center;
      margin-bottom: 20px;
    }

    .examples-list {
      .example-item {
        background: rgba(78, 205, 196, 0.1);
        padding: 16px;
        margin-bottom: 12px;
        border-radius: 8px;
        border-right: 4px solid #4ECDC4;
        color: #a0aec0;
        font-style: italic;

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }
}

// Non Financial Response
.non-financial {
  .non-financial-container {
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
  }

  .non-financial-header {
    @extend .card-base;
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.8), rgba(255, 107, 107, 0.6));
    color: white;

    h1 {
      color: white;
      margin-bottom: 16px;
    }

    p {
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
      font-size: 1.1rem;
    }
  }

  .suggestion-section {
    @extend .card-base;

    h2 {
      color: #87ceeb;
      margin-bottom: 16px;
    }

    p {
      color: #a0aec0;
      margin: 0;
      font-size: 1.1rem;
      line-height: 1.7;
    }
  }

  .help-section {
    @extend .card-base;

    h2 {
      color: #4ecdc4;
      margin-bottom: 20px;
    }

    .help-list {
      list-style: none;
      padding: 0;
      text-align: right;

      li {
        background: rgba(78, 205, 196, 0.1);
        padding: 12px 16px;
        margin-bottom: 8px;
        border-radius: 8px;
        border-right: 4px solid #4ECDC4;
        color: #a0aec0;
        transition: all 0.3s ease;

        &:hover {
          background: rgba(78, 205, 196, 0.2);
          transform: translateX(4px);
        }

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }

  .examples-section {
    @extend .card-base;

    h2 {
      color: #96ceb4;
      margin-bottom: 20px;
    }

    .example-questions {
      .example-question {
        background: rgba(150, 206, 180, 0.1);
        padding: 16px;
        margin-bottom: 12px;
        border-radius: 8px;
        border-right: 4px solid #96CEB4;
        color: #a0aec0;
        font-weight: 500;
        text-align: right;
        transition: all 0.3s ease;

        &:hover {
          background: rgba(150, 206, 180, 0.2);
          transform: scale(1.02);
        }

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }
}

// Responsive Design
@media (max-width: 768px) {
  .financial-advisor-container {
    padding: 12px;

    .card-base,
    .analysis-header,
    .executive-summary,
    .calculations-section,
    .charts-section,
    .tables-section,
    .recommendations-section,
    .thinking-question,
    .basic-header,
    .answer-card,
    .related-topics,
    .follow-up-questions,
    .need-data-header,
    .required-info-section,
    .quick-tips-section,
    .examples-section,
    .non-financial-header,
    .suggestion-section,
    .help-section {
      padding: 16px;
      margin-bottom: 16px;
    }

    .metadata-grid,
    .summary-grid,
    .calculations-grid,
    .charts-grid,
    .recommendations-grid,
    .info-grid {
      grid-template-columns: 1fr !important;
      gap: 16px;
    }

    .data-table {
      font-size: 0.85rem;

      th, td {
        padding: 8px 6px;
      }
    }

    h1 { font-size: 1.5rem; }
    h2 { font-size: 1.25rem; }
    h3 { font-size: 1.1rem; }
  }
}

@media (max-width: 480px) {
  .financial-advisor-container {
    padding: 8px;

    .card-base,
    .analysis-header,
    .executive-summary,
    .calculations-section,
    .charts-section,
    .tables-section,
    .recommendations-section,
    .thinking-question,
    .basic-header,
    .answer-card,
    .related-topics,
    .follow-up-questions,
    .need-data-header,
    .required-info-section,
    .quick-tips-section,
    .examples-section,
    .non-financial-header,
    .suggestion-section,
    .help-section {
      padding: 12px;
      border-radius: 12px;
    }

    .data-table {
      font-size: 0.75rem;

      th, td {
        padding: 6px 4px;
      }
    }
  }
}

// Print Styles
@media print {
  .financial-advisor-container {
    background: white !important;
    color: black !important;

    .card-base,
    .analysis-header,
    .executive-summary,
    .calculations-section,
    .charts-section,
    .tables-section,
    .recommendations-section,
    .thinking-question,
    .basic-header,
    .answer-card,
    .related-topics,
    .follow-up-questions,
    .need-data-header,
    .required-info-section,
    .quick-tips-section,
    .examples-section,
    .non-financial-header,
    .suggestion-section,
    .help-section {
      border: 1px solid #ccc;
      box-shadow: none;
    }

    h1, h2, h3, h4, h5, h6 {
      color: black !important;
    }

    .charts-section {
      page-break-inside: avoid;
    }
  }
}